/* Font subsetting for Chinese fonts 
 * This implements a progressive loading strategy for large Chinese fonts
 * We split each font into multiple tiers of most frequently used characters
 */

/* === HYShuSongErS (Regular Chinese font) === */
/* Tier 1: Most common characters (loaded immediately) */
@font-face {
  font-family: 'Chinese';
  font-style: normal;
  font-weight: normal;
  src: local('HYShuSongErS'), url("/fonts/subsets/HYShuSongErS-tier1.woff2") format('woff2');
  font-display: swap;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F; /* Basic CJK */
}

/* Tier 2: Medium frequency characters (loaded when idle) */
@font-face {
  font-family: 'Chinese';
  font-style: normal;
  font-weight: normal;
  src: local('HYShuSongErS'), url("/fonts/subsets/HYShuSongErS-tier2.woff2") format('woff2');
  font-display: optional;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F; /* Basic CJK */
}

/* Tier 3: Least common characters (loaded on demand) */
@font-face {
  font-family: 'Chinese';
  font-style: normal;
  font-weight: normal;
  src: local('HYShuSongErS'), url("/fonts/subsets/HYShuSongErS-tier3.woff2") format('woff2');
  font-display: optional;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F; /* Basic CJK */
}

/* Fallback for any missing characters - load the complete font as a last resort */
@font-face {
  font-family: 'Chinese';
  font-style: normal;
  font-weight: normal;
  src: local('HYShuSongErS'), url("/fonts/HYShuSongErS.woff2") format('woff2');
  font-display: swap;
  /* No unicode-range to make it a universal fallback */
}

/* === FZKTJW (Italic Chinese font) === */
/* Tier 1: Most common characters (loaded immediately) */
@font-face {
  font-family: 'Chinese';
  font-style: italic;
  font-weight: normal;
  src: local('FZKTJW'), url("/fonts/subsets/FZKTJW-tier1.woff2") format('woff2');
  font-display: swap;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F;
}

/* Tier 2: Medium frequency characters (loaded when idle) */
@font-face {
  font-family: 'Chinese';
  font-style: italic;
  font-weight: normal;
  src: local('FZKTJW'), url("/fonts/subsets/FZKTJW-tier2.woff2") format('woff2');
  font-display: optional;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F;
}

/* Tier 3: Least common characters (loaded on demand) */
@font-face {
  font-family: 'Chinese';
  font-style: italic;
  font-weight: normal;
  src: local('FZKTJW'), url("/fonts/subsets/FZKTJW-tier3.woff2") format('woff2');
  font-display: optional;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F;
}

/* Fallback for any missing characters - load the complete font as a last resort */
@font-face {
  font-family: 'Chinese';
  font-style: italic;
  font-weight: normal;
  src: local('FZKTJW'), url("/fonts/FZKTJW.woff2") format('woff2');
  font-display: swap;
  /* No unicode-range to make it a universal fallback */
}

/* === FZHTJW (Bold Chinese font) === */
/* Tier 1: Most common characters (loaded immediately) */
@font-face {
  font-family: 'Chinese';
  font-style: normal;
  font-weight: bold;
  src: local('FZHTJW'), url("/fonts/subsets/FZHTJW-tier1.woff2") format('woff2');
  font-display: swap;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F;
}

/* Tier 2: Medium frequency characters (loaded when idle) */
@font-face {
  font-family: 'Chinese';
  font-style: normal;
  font-weight: bold;
  src: local('FZHTJW'), url("/fonts/subsets/FZHTJW-tier2.woff2") format('woff2');
  font-display: optional;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F;
}

/* Tier 3: Least common characters (loaded on demand) */
@font-face {
  font-family: 'Chinese';
  font-style: normal;
  font-weight: bold;
  src: local('FZHTJW'), url("/fonts/subsets/FZHTJW-tier3.woff2") format('woff2');
  font-display: optional;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F;
}

/* Fallback for any missing characters - load the complete font as a last resort */
@font-face {
  font-family: 'Chinese';
  font-style: normal;
  font-weight: bold;
  src: local('FZHTJW'), url("/fonts/FZHTJW.woff2") format('woff2');
  font-display: swap;
  /* No unicode-range to make it a universal fallback */
}

/* === HYFangSongJ (Chinese Mono font) === */
/* Tier 1: Most common characters (loaded immediately) */
@font-face {
  font-family: 'ChineseMono';
  font-style: normal;
  font-weight: normal;
  src: local('HYFangSongJ'), url("/fonts/subsets/HYFangSongJ-tier1.woff2") format('woff2');
  font-display: swap;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F;
}

/* Tier 2: Medium frequency characters (loaded when idle) */
@font-face {
  font-family: 'ChineseMono';
  font-style: normal;
  font-weight: normal;
  src: local('HYFangSongJ'), url("/fonts/subsets/HYFangSongJ-tier2.woff2") format('woff2');
  font-display: optional;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F;
}

/* Tier 3: Least common characters (loaded on demand) */
@font-face {
  font-family: 'ChineseMono';
  font-style: normal;
  font-weight: normal;
  src: local('HYFangSongJ'), url("/fonts/subsets/HYFangSongJ-tier3.woff2") format('woff2');
  font-display: optional;
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F;
}

/* Fallback for any missing characters - load the complete font as a last resort */
@font-face {
  font-family: 'ChineseMono';
  font-style: normal;
  font-weight: normal;
  src: local('HYFangSongJ'), url("/fonts/HYFangSongJ.woff2") format('woff2');
  font-display: swap;
  /* No unicode-range to make it a universal fallback */
}

/* Additional styles to ensure text is visible during font loading */
.article, .article-entry {
  font-family: 'Gowun Dodum', 'Chinese', biaodian, Helvetica, sans-serif;
  text-rendering: optimizeLegibility;
}

/* Fallback font for Chinese characters */
@font-face {
  font-family: 'ChineseFallback';
  src: local('PingFang SC'), local('Microsoft YaHei'), local('SimSun');
  unicode-range: U+4E00-9FFF, U+3400-4DBF, U+F900-FAFF, U+3000-303F;
} 